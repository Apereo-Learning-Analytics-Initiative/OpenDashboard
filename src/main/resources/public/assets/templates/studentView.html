<!--
Copyright (c) 2015 Unicon (R) Licensed under the
Educational Community License, Version 2.0 (the "License"); you may
not use this file except in compliance with the License. You may
obtain a copy of the License at

http://www.osedu.org/licenses/ECL-2.0

Unless required by applicable law or agreed to in writing,
software distributed under the License is distributed on an "AS IS"
BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express
or implied. See the License for the specific language governing
permissions and limitations under the License. 
-->
<section class="col-md-12 studentActivity">
    <h3>Activity By Type</h3>
    <div class="col-md-2">
        <div class="activityCard">
            <div class="heading">Total Events</div>
            <div class="body">
                <h1>{{ actions.length }}</h1>
            </div>
        </div>
        <!-- Toggle between chart and table -->
        <div class="buttons">
            <button class="btn btn-primary btn-block" type="button" ng-click="activityByVerbDisplay='table'" ng-disabled="activityByVerbDisplay=='table'">
                <i class="fa fa-table" aria-hidden="true"></i> Table
            </button>
            <button class="btn btn-primary btn-block" type="button" ng-click="activityByVerbDisplay='chart'" ng-disabled="activityByVerbDisplay=='chart'">
                <i class="fa fa-bar-chart" aria-hidden="true"></i> Chart
            </button>
        </div>
    </div>
    <div class="col-md-9">
        <!-- Chart -->
        <div class="activityByVerbChart" ng-show="activityByVerbDisplay=='chart'">
            <canvas id="activityByVerbChart" width="400" height="150"></canvas>
        </div>
        <!-- Table -->
        <div class="activityCard" ng-show="activityByVerbDisplay=='table'">
            <table id="activityByVerbTable" class="activityTable">
                <thead>
                    <tr>
                        <th ng-repeat="label in activityByVerbChartData.labels">
                            {{ label }}
                        </th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td ng-repeat="label in activityByVerbChartData.labels">
                            {{ activityByVerbChartData.datasets[0].data[$index] }}
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>
    </div>
</section>

<section class="col-md-12 studentActivity">
    <h3>Activity By Time</h3>
    <div class="col-md-2">
        <!-- Toggle between chart and table -->
        <div class="buttons">
            <button class="btn btn-primary btn-block" type="button" ng-click="activityOverTimeDisplay='table'" ng-disabled="activityOverTimeDisplay=='table'">
                <i class="fa fa-table" aria-hidden="true"></i> Table
            </button>
            <button class="btn btn-primary btn-block" type="button" ng-click="activityOverTimeDisplay='chart'" ng-disabled="activityOverTimeDisplay=='chart'">
                <i class="fa fa-bar-chart" aria-hidden="true"></i> Chart
            </button>
        </div>
        <div class="filters">
            <form>
            <div class="checkbox" ng-repeat="verb in verbList track by $index">
                <label>
                    <input type="checkbox" ng-model="verb.filter" ng-change="$emit('filterChange')"> {{verb.label}}
                </label>
            </div>
            </form>
        </div>
    </div>
    <div class="col-md-9">
        <!-- Chart -->
        <div class="activityOverTime" ng-show="activityOverTimeDisplay=='chart'">
            <canvas id="activityOverTime" width="400" height="400"></canvas>
        </div>
        <!-- Table -->
        <div class="activityCard" ng-show="activityOverTimeDisplay=='table'">
            <table id="activityOverTimeTable" class="activityTable">
                <thead>
                    <tr>
                        <th ng-repeat="label in activityOverTimeData.labels">
                            {{ label }}
                        </th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td ng-repeat="label in activityOverTimeData.labels">
                            {{ activityOverTimeData.datasets[0].data[$index] }}
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>
    </div>
</section>
